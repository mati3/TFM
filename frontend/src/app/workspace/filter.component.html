<div class="col-md-9 offset-md-1 mt-5">
  <h1>{{'files.filter' | translate}}</h1>
    <a routerLink="/workspace/search" class="btn btn-sm btn-success mb-2 mr-1">{{ 'files.looking' | translate }}</a>
    <a routerLink="/workspace" class="btn btn-sm btn-success mb-2 mr-1">{{ 'nav.workspace' | translate }}</a>

    <table class="table table-striped">
      <thead>
        <caption>{{'files.fvs' | translate}}</caption>
          <tr>
            <th width="50%">{{ 'files.positive' | translate }}</th>
            <th width="50%">{{ 'files.negative' | translate }}</th>
          </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fil of files?.filesFVS">
          <td>{{fil.positive}}</td>
          <td>{{fil.negative}}</td>
        </tr>
      </tbody>
    </table>
  
    <table class="table table-striped">
      <thead>
        <caption>{{'files.fds' | translate}}</caption>
          <tr>
            <th width="50%">{{ 'files.positive' | translate }}</th>
            <th width="50%">{{ 'files.negative' | translate }}</th>
          </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fil of files?.filesFDS">
          <td>{{fil.positive}}</td>
          <td>{{fil.negative}}</td>
        </tr>
      </tbody>
    </table>

    <table class="table table-striped">
      <thead>
        <caption>{{'files.tis' | translate}}</caption>
          <tr>
            <th width="50%">{{ 'files.positive' | translate }}</th>
            <th width="50%">{{ 'files.negative' | translate }}</th>
          </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fil of files?.filesTIS">
          <td>{{fil.positive}}</td>
          <td>{{fil.negative}}</td>
          <td nowrap>
            <button type="button" class="btn btn-success btn-xs" 
              (click)="select(fil.positive, fil.negative)"  >
              <span class="glyphicon glyphicon-upload"></span> {{ 'files.select' | translate }}
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- termNumber -->
    <div class="form-group">
      <div class="md-form">
        <label for="numberInputEx">Input of terms number</label>
        <input type="number" class="form-control" id="numberInputEx" (change)="termNumber($event)" mdbInput>
      </div>
    </div>

    <!-- Filtros -->
    <div class="form-group">
      <select class="custom-select" (change)="changefilter($event)" required>
        <option value="">Seleccione un filtro</option>
        <option value="InfGain">InfGain-Ganancia infinita</option>
        <option value="CrossEntropy">CrossEntropy-Entropía Cruzada</option>
        <option value="MutualInfo">MutualInfo-Información Mutua</option>
        <option value="Freq">Freq-Filtro basado en frecuencias</option>
        <option value="OddsRatio">OddsRatio-Razón de probabilidades</option>
        <option value="NormalSeparation">Bi−NormalSeparation-Bi Separación Normal</option>
        <option value="Diferencia">Diferencia</option>
      </select>
      <div class="invalid-feedback">Invalid custom select feedback</div>
    </div>
    <div class="form-group" >
      <button class="btn btn-primary" (click)="onSubmit()" >
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        aplicar para ver Query
      </button>
    </div>
    Query: 
    <a *ngFor="let word of query">{{word}} &nbsp;</a><br />

    <!-- AND_OPERATOR -->
    <a>Seleccione si quiere unir los terminos con el operador and:</a><br />
    <div class="form-group" >
        <button class="btn btn-primary btn-sm" (click)="andOperator()" [disabled]="!loadand" >
          <span *ngIf="loading"  class="spinner-border spinner-border-xs"></span>
          AND 
        </button>
    </div>

    <!-- aplicar en FVS  -->
    <div class="form-group" >
      <button class="btn btn-primary" (click)="applyFilterFVS()" >
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        aplicar en FVS 
      </button>
    </div>

    <!-- medidas de rendimiento -->
    <table *ngIf="loadmetric" class="table table-striped">
      <a *ngFor="let metric of metricsFVS">
        <h4>{{metric[0].tittle}}</h4>
        <thead>
          <tr>
            <th style="width: 30%">Medida de rendimiento</th>
            <th style="width: 30%">Valor</th>
          </tr>
        </thead> 
        <tbody>
          <tr *ngFor="let data of metric">
            <td>{{data.description}}</td>
            <td>{{data.value}}</td>
          </tr>
        </tbody>
      </a>
    </table>

    <!-- aplicar en FDS  -->
    <div class="form-group" >
      <button class="btn btn-primary" (click)="applyFilterFDS()" >
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        aplicar en FDS 
      </button>
    </div>

    <!-- medidas de rendimiento -->
    <table *ngIf="loadmetric" class="table table-striped">
      <a *ngFor="let metric of metricsFDS">
        <h4>{{metric[0].tittle}}</h4>
        <thead>
          <tr>
            <th style="width: 30%">Medida de rendimiento</th>
            <th style="width: 30%">Valor</th>
          </tr>
        </thead> 
        <tbody>
          <tr *ngFor="let data of metric">
            <td>{{data.description}}</td>
            <td>{{data.value}}</td>
          </tr>
        </tbody>
      </a>
    </table>
  </div>